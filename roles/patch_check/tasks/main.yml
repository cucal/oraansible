# Pamplona 2019 
#  Playbook which create the required directories
#   
#   requires
#     env:                                  name of the server  which should be in the inventory
#     type:                                 type of installation [asm|rdbms]    
#     version:                              version of database or asm
#     vars/main.yaml                        standard values for Oracle
---
- name: patch full file 
  set_fact:
     patch_file: "{{media_dir}}/PSU/{{version}}/{{type}}/{{item.file}}"
  with_items: "{{PSU}}"
  when:  item.version == "{{version}}"  and  item.type == "{{type}}" and item.patch="{{patch}}"

- name: look for the patch 
  stat:
    path: "{{patch_file}}/etc/oraInst.loc"
  register: invfile 



  - name : unzip the patch 

  -name: check opatch prereequisite

  -name:   unzip new opatch 

  - name: check conflicts 


  